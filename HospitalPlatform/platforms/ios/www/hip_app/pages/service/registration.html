<div class="module" id="nav">
        <div class="head">
        	<div id="trans" class="current" style="width:14%;"></div>
            <h2 data-tab="summary" style="width:14%">概要</h2>
            <h2 data-tab="income" style="width:43%">查询可挂科室服务</h2>
            <h2 data-tab="equipment" style="width:43%">查询可挂医生服务</h2>
        </div>
		<div class="content" style="margin-top:3em;">
            <div class="panel">
            
            <div class="row">
			    <div class="col-md-4">
			    	<div id="service-overview" class="pricing pricing-active hover-effect">
						<div class="pricing-head">
							<h4>预约挂号服务<div style="height:80px"><span>服务描述：提供X个服务，支撑医院预约、挂号业务，供自助终端系统、手机预约挂号APP、网上预约挂号平台等外部预约挂号系统调用</span></div></h4>
						</div>
						<ul class="pricing-content list-unstyled">
							<li><i class="fa fa-compass"></i> 服务版本：V1.0</li>
							<li><i class="fa fa-star"></i> 服务来源</li>
							<li class="service-support">
								<span class="supporter">HIS</span>
								<span class="supporter">CIS</span>
								<span class="supporter">ZLK</span>
							</li>
							<!-- <li><i class="fa fa-asterisk"></i> 服务调用</li>
							<li class="service-spend">
								<span class="spender">自助终端系统</span>
								<span class="spender">手机预约挂号APP</span>
								<span class="spender">网上预约挂号平台</span>
							</li> -->
						</ul>
					</div>
					
				</div>
				
				<div class="col-md-8">
					<div class="row">
						<div class="col-xs-4 col-md-4">
							<div class="dashboard-stat blue">
								<div class="visual">
								</div>
								<div class="details">
									<div class="number">
										1349
									</div>
									<div class="desc">
										自助终端系统
									</div>
								</div>
								<div class="more">
								</div>                 
							</div>
						</div>
						<div class="col-xs-4 col-md-4">
							<div class="dashboard-stat green">
								<div class="visual">
								</div>
								<div class="details">
									<div class="number">
										0
									</div>
									<div class="desc">
										手机预约挂号APP
									</div>
								</div>
								<div class="more">
								</div>                 
							</div>
						</div>
						<div class="col-xs-4 col-md-4">
							<div class="dashboard-stat yellow">
								<div class="visual">
								</div>
								<div class="details">
									<div class="number">
										526
									</div>
									<div class="desc">
										网上预约挂号平台
									</div>
								</div>
								<div class="more">
								</div>                 
							</div>
						</div>
					</div>
					
					<div class="row">
						<div class="col-md-12">
							<!-- BEGIN PORTLET-->
							<div class="portlet solid bordered light-grey">
								<div class="portlet-title">
									<div class="caption"><i class="icon-bar-chart icon-large"></i>服务执行情况</div>
								</div>
								<div class="portlet-body">
									<div id="service_order_div" class="chart" style="height:303px;"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</div>
            
            </div>
             <div class="panel">
                         <div class="col-md-12">
			            <!-- BEGIN PORTLET-->
			            <div class="portlet solid bordered light-grey">
			              <div class="portlet-title">
			                <div class="caption"><i class="icon-bar-chart icon-large"></i>科室服务</div>
			              </div>
			              <div class="portlet-body">
			                <div id="income_trend_div" class="chart" style="height:305px;"></div>
			              </div>
			            </div>
			          </div>
	   		 </div>
	   		<div class="panel">
	           <div class="col-md-6 col-sm-6 col-xs-12">
	          	<!-- BEGIN PORTLET-->
	            <div class="portlet box green">
	              <div class="portlet-title">
	                <div class="caption"><i class="icon-dashboard icon-large"></i>医生服务</div>
	              </div>
	              <div class="portlet-body">
	                <div id="emergencyFeePiediv" class="chart" style="height:220px;"></div>
	              </div>
	            </div>
	            </div>
	   		 </div>   
        </div>
</div>
<script src="../assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/scripts/show-num.js" type="text/javascript"></script>
<script>
	var navTab = new Slide({
	        //autoPlay: true,
	        targetSelector: '#nav',
	        targetdom: 'nav',
	        wrapSelector: '.content',
	        indicatorSelector: '#nav .head > h2',
	        indicatorCls: '',
			transSelector:'#trans',
	        slideFunction:slideCallback
	});
	$("#nav .head > h2").click(function() {
		navTab.to($(this).index());
	})
	function slideCallback(index){
	}
	$(function(){	
		serviceOrder()
	});
	
	
	function serviceOrder(){
		var serviceOrderData= [ {
			"chartKey" : "查询可挂科室服务",
			"chartValue" : 463
	    	}, {
			"chartKey" : "查询可挂医生服务",
			"chartValue" : 436
		}, {
			"chartKey" : "查询医生号源服务",
			"chartValue" : 429
		}, {
			"chartKey" : "预约服务",
			"chartValue" : 317
		}, {
			"chartKey" : "挂号服务",
			"chartValue" : 211
		}, {
			"chartKey" : "取消预约服务",
			"chartValue" : 37
		}, {
			"chartKey" : "退号服务",
			"chartValue" : 26
		}];
	
	
		var serviceOrderColumn = new AmCharts.AmSerialChart();
		serviceOrderColumn.dataProvider = serviceOrderData;
		serviceOrderColumn.categoryField = "chartKey";
		serviceOrderColumn.startDuration = 1;
		serviceOrderColumn.depth2D = 20;
	
		serviceOrderColumn.autoMargins = false;
		serviceOrderColumn.marginLeft = 5;
		serviceOrderColumn.marginRight = 5;
		serviceOrderColumn.marginTop = 0;
		serviceOrderColumn.marginBottom = 50;
	
		var categoryAxis = serviceOrderColumn.categoryAxis;
		categoryAxis.labelRotation = 90;
		categoryAxis.gridPosition = "start";
	
		var valueAxis = new AmCharts.ValueAxis();
		valueAxis.gridAlpha = 0;
		valueAxis.axisAlpha = 0;
		serviceOrderColumn.addValueAxis(valueAxis);
	
		var graph = new AmCharts.AmGraph();
		graph.valueField = "chartValue";
		graph.balloonText = "[[category]]: <b>[[value]]</b>";
		graph.type = "column";
		graph.lineAlpha = 0;
		graph.fillAlphas = 0.8;
		graph.fillColors = "#FE8300";
		serviceOrderColumn.addGraph(graph);
	
		// CURSOR
		var chartCursor = new AmCharts.ChartCursor();
		chartCursor.cursorAlpha = 0;
		chartCursor.zoomable = false;
		chartCursor.categoryBalloonEnabled = false;
		serviceOrderColumn.addChartCursor(chartCursor);
	
		serviceOrderColumn.creditsPosition = "top-right";
		serviceOrderColumn.write("service_order_div");
	
	}
</script>
<script>
$(function(){	
	incomeTrend();
	});
function incomeTrend(){
	var mouthCompData = [{
		"chartKey" : "07-23",
		"allValue" : 68.5,
		"outValue" : 27.5,
		"inValue" : 41
	}, {
		"chartKey" : "07-24",
		"allValue" : 88.5,
		"outValue" : 37.5,
		"inValue" : 51
	}, {
		"chartKey" : "07-25",
		"allValue" : 98.5,
		"outValue" : 47.5,
		"inValue" : 51
	}, {
		"chartKey" : "07-26",
		"allValue" : 77.5,
		"outValue" : 31.5,
		"inValue" : 46
	}, {
		"chartKey" : "07-27",
		"allValue" : 68.5,
		"outValue" : 27.5,
		"inValue" : 41
	}, {
		"chartKey" : "07-28",
		"allValue" : 88.5,
		"outValue" : 27.5,
		"inValue" : 61
	}, {
		"chartKey" : "07-29",
		"allValue" : 68.5,
		"outValue" : 37.5,
		"inValue" : 31
	} ];
	// SERIAL CHART
	var mouthCompColumn = new AmCharts.AmSerialChart();
	mouthCompColumn.dataProvider = mouthCompData;
	mouthCompColumn.categoryField = "chartKey";
  
	mouthCompColumn.autoMargins = false;
	mouthCompColumn.marginLeft = 5;
	mouthCompColumn.marginRight = 5;
	mouthCompColumn.marginTop = 0;
	mouthCompColumn.marginBottom = 50;
	 
	// AXES
	// category axis
	var categoryAxis = mouthCompColumn.categoryAxis;
	categoryAxis.autoGridCount = false;
	categoryAxis.labelRotation = 90;
	categoryAxis.gridCount = 50;
	categoryAxis.gridAlpha = 0;
	categoryAxis.gridColor = "#000000";
	categoryAxis.axisColor = "#555555";
		
	var valueAxis = new AmCharts.ValueAxis();
	valueAxis.gridAlpha = 0;
	valueAxis.axisAlpha = 0;
	mouthCompColumn.addValueAxis(valueAxis);

	//otheryearAxis.inside = true;

	//mouthCompColumn.addValueAxis(otheryearAxis);

	// GRAPHS
	// otheryear graph
	var allGraph = new AmCharts.AmGraph();
	allGraph.title = "全院";
	allGraph.valueField = "allValue";
	allGraph.type = "column";
	//allGraph.valueAxis = otheryearAxis;
	allGraph.legendValueText = "[[value]]";
	allGraph.balloonText = "全院: <b>[[value]]</b>";
	allGraph.type = "column";
	allGraph.lineAlpha = 0;
	allGraph.fillAlphas = 0.8;
	allGraph.fillColors = "#CCC"; 
	
	mouthCompColumn.addGraph(allGraph);

	var outGraph = new AmCharts.AmGraph();
	outGraph.title = "门诊";
	outGraph.valueField = "outValue";
	outGraph.type = "line";
	//outGraph.valueAxis = otheryearAxis;
	outGraph.lineColor = "#40BAF4";
	outGraph.balloonText = "门诊：[[value]]";
	outGraph.lineThickness = 1;
	outGraph.legendValueText = "[[value]]";
	outGraph.bullet = "round";
	outGraph.bulletBorderColor = "#40BAF4";
	outGraph.bulletBorderAlpha = 1;
	outGraph.bulletBorderThickness = 1;
	mouthCompColumn.addGraph(outGraph);

	var inGraph = new AmCharts.AmGraph();
	inGraph.title = "住院";
	inGraph.valueField = "inValue";
	inGraph.type = "line";
	//inGraph.valueAxis = otheryearAxis;
	inGraph.lineColor = "#78D542";
	inGraph.balloonText = "住院：[[value]]";
	inGraph.lineThickness = 1;
	inGraph.legendValueText = "[[value]]";
	inGraph.bullet = "round";
	inGraph.bulletBorderColor = "#78D542";
	inGraph.bulletBorderAlpha = 1;
	inGraph.bulletBorderThickness = 1;
	mouthCompColumn.addGraph(inGraph);

	// CURSOR
	var chartCursor = new AmCharts.ChartCursor();
	chartCursor.zoomable = false;
	chartCursor.cursorAlpha = 0;
	chartCursor.valueLineEnabled = true;
	chartCursor.valueLineBalloonEnabled = true;
	mouthCompColumn.addChartCursor(chartCursor);

	var legend1 = new AmCharts.AmLegend();
	legend1.bulletType = "round";
	legend1.equalWidths = true;
	legend1.valueWidth = 40;
	legend1.color = "#000000";
	legend1.position = "top";
	legend1.useGraphSettings = true;
	mouthCompColumn.addLegend(legend1);

	// WRITE
	mouthCompColumn.write("income_trend_div");
}
</script> 

<script>
$(function(){	
	emergencyFeePie();
	});
//急诊费用比例饼图
function emergencyFeePie(){
	var emergencyFeePie;
	var emergencyFeeData = [{
		"chartKey" : "急诊费用",
		"chartValue" : 30.8,
		"chartColor" : "#C8E49C"
		}, {
		"chartKey" : "其他",
		"chartValue" : 69.2,
		"chartColor" : "#E7DAC9"
		}]

	// PIE CHART
	// PIE CHART
	var pie2 = new AmCharts.AmPieChart();
	pie2.dataProvider = emergencyFeeData;
	pie2.titleField = "chartKey";
	pie2.valueField = "chartValue";
	pie2.colorField = "chartColor";
	pie2.sequencedAnimation = true;
	pie2.startEffect = "elastic";
	pie2.innerRadius = "40%";
	pie2.startDuration = 2;
	pie2.labelRadius = 1;
	pie2.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>";
	//pie2.depth3D = 10;
	//pie2.angle = 15;
	pie2.pieX = "40%";
	pie2.labelText = "";
	pie2.startDuration = 2;
	pie2.radius = 95;
	pie2.labelRadius = 15;
	// LEGEND
	legend2 = new AmCharts.AmLegend();
	
	legend2.align = "right";
	//legend1.color = "#FFF";
	legend2.position = "absolute";
	legend2.top = -10;
	legend2.right = 0;
	legend2.borderAlpha = 0;
	legend2.valueWidth = 0.2;
	legend2.horizontalGap = 0;
	legend2.width = 70;
	legend2.valueText = "";

	pie2.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>";
	pie2.addLegend(legend2);

	pie2.write("emergencyFeePiediv"); 
}
</script>        